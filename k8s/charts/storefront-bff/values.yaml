backend:
  image:
    repository: ghcr.io/nashtech-garage/shopdi-storefront-bff
    tag: latest

  nameOverride: storefront-bff
  fullnameOverride: storefront-bff

  deployment:
    annotations:
      configmap.reloader.stakater.com/reload: "shopdi-gateway-routes-config-configmap,storefront-bff-extra-configmap"

  ingress:
    enabled: true
    host: storefront.shopdi.local.com
    path: /

  extraEnvs:
    - name: SPRING_PROFILES_ACTIVE
      value: prod
    - name: UI_HOST
      value: http://storefront-ui:3000
  extraEnvFroms:
    - secretRef:
        name: shopdi-keycloak-credentials-secret
    - secretRef:
        name: shopdi-redis-credentials-secret
  extraVolumes:
    - name: shopdi-gateway-routes-config
      configMap:
        name: shopdi-gateway-routes-config-configmap
    - name: storefront-bff-extra-config
      configMap:
        name: storefront-bff-extra-configmap
  extraVolumeMounts:
    - name: shopdi-gateway-routes-config
      mountPath: /opt/shopdi/gateway-routes-config
    - name: storefront-bff-extra-config
      mountPath: /opt/shopdi/extra-config
  extraApplicationConfigPaths:
    - /opt/shopdi/gateway-routes-config/gateway-routes-config.yaml
    - /opt/shopdi/extra-config/storefront-bff-extra-config.yaml
